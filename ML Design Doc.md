# Demo Day

**1.1. Цель разработки** 

Разработка инновационного виджета для интернет-магазинов мебели, который позволяет пользователям визуализировать, как выбранная мебель будет выглядеть в их реальных интерьерах, чтобы повысить уровень удовлетворенности клиентов и увеличить продажи.

Цель разработки виджета для интернет-магазинов мебели заключается в создании инновационного инструмента, который улучшит пользовательский опыт, повысит конверсию продаж, обеспечит технологическое превосходство и предоставит маркетинговые преимущества. Виджет позволит пользователям загружать фотографии своих комнат и визуализировать, как выбранная мебель будет выглядеть в их интерьерах, благодаря передовым технологиям машинного обучения и компьютерного зрения. Это снизит неуверенность при выборе мебели, повысит доверие к онлайн-покупкам и уменьшит количество возвратов. Кроме того, виджет обеспечит конкурентные преимущества интернет-магазинам, увеличит удовлетворенность и лояльность клиентов, а также улучшит имидж бренда, предоставляя уникальные возможности и рекомендации по подбору мебели. Сбор и анализ данных о взаимодействии пользователей с виджетом позволит постоянно улучшать его функционал и интерфейс, удовлетворяя потребности клиентов и способствуя росту продаж и прибыли.

**1.2. Бизнес требования и ограничения** 

1. **Функциональность виджета**:
    - Виджет должен позволять пользователям загружать фотографии своих комнат в различных форматах (JPEG, PNG, etc.).
    - Инструмент должен предоставлять пользователям возможность выбора и интеграции мебели из каталога интернет-магазина в загруженные фотографии.
    - Виджет должен обеспечивать высокую точность и реалистичность интеграции мебели в фотографии, используя технологии машинного обучения и компьютерного зрения.
    - Необходимо обеспечить быстрый отклик системы при генерации изображений, чтобы пользователи не испытывали длительного ожидания.
    - Пользователи должны иметь возможность изменять размеры, цвет и ориентацию мебели для точного соответствия их интерьерам.
    - Виджет должен предоставлять рекомендации по мебели, основываясь на анализе загруженного интерьера.
2. **Интерфейс и пользовательский опыт**:
    - Виджет должен иметь интуитивно понятный и простой в использовании интерфейс, доступный для пользователей без технических навыков.
    - Должны быть предусмотрены инструкции и подсказки по использованию виджета.
3. **Технические требования**:
    - Виджет должен быть совместим с основными браузерами (Chrome, Firefox, Safari, Edge) и операционными системами (Windows, macOS, iOS, Android).
    - Обеспечить безопасность данных пользователей, включая загруженные фотографии и персональную информацию.
    - Виджет должен быть легко интегрируемым в существующие платформы интернет-магазинов без необходимости значительных изменений в их структуре.
4. **Аналитика и улучшения**:
    - Система должна собирать и анализировать данные о взаимодействии пользователей с виджетом для дальнейшего улучшения его функционала.
    - Должен быть разработан механизм регулярных обновлений и улучшений на основе собранных данных и пользовательских отзывов.

### Ограничения:

1. **Технические ограничения**:
    - Ограниченная скорость интернета пользователей может влиять на время загрузки фотографий и генерации изображений.
    - Точность интеграции мебели может варьироваться в зависимости от качества загруженных фотографий.
    - Ограничения по формату и размеру загружаемых фотографий, чтобы избежать перегрузки системы.
2. **Финансовые ограничения**:
    - Необходимость оптимизации затрат на разработку и поддержку виджета, включая использование ресурсов и технологий.
    - Возможные дополнительные расходы на лицензирование технологий машинного обучения и компьютерного зрения.
3. **Юридические и нормативные ограничения**:
    - Необходимость получения согласия пользователей на обработку и хранение их фотографий.
4. **Ограничения по ресурсам**:
    - Доступность квалифицированных специалистов для разработки, тестирования и поддержки виджета.
    - Ограниченные временные ресурсы для разработки и внедрения виджета в сжатые сроки.
    

**1.3. Критерии успеха проекта.** 

- **Удовлетворенность пользователей**:
    - **Положительные отзывы и высокая оценка**: Средний рейтинг виджета должен быть не менее 4.5 из 5 на платформах обратной связи.
    - **Увеличение времени взаимодействия**: Пользователи должны проводить больше времени на сайте, используя виджет, что указывает на его полезность и интерес.
- **Конверсия продаж**:
    - **Увеличение продаж**: Увеличение конверсии продаж мебели в интернет-магазине на 15-20% в течение первых шести месяцев после внедрения виджета.
    - **Снижение возвратов**: Снижение количества возвратов мебели из-за несоответствия ожиданиям на 10-15% в течение первых шести месяцев.
- **Интерактивность и функциональность**:
    - **Частота использования**: Как минимум 30% посетителей интернет-магазина должны использовать виджет при выборе мебели.
    - **Успешность генерации изображений**: Более 95% попыток интеграции мебели в фотографии должны завершаться успешной генерацией изображений без ошибок.
- **Техническая стабильность и производительность**:
    - **Время отклика**: Время генерации изображений не должно превышать 5 секунд.
    - **Совместимость**: Виджет должен корректно работать на всех поддерживаемых устройствах и браузерах без технических проблем.
- **Пользовательская аналитика и обратная связь**:
    - **Сбор данных**: Наличие встроенной системы аналитики, которая позволяет собирать данные о взаимодействии пользователей с виджетом.
    - **Использование обратной связи**: Регулярное обновление и улучшение виджета на основе собранной аналитики и обратной связи пользователей, не реже одного раза в квартал.
- **Имидж и конкурентоспособность**:
    - **Уникальное торговое предложение (УТП)**: Интернет-магазины, использующие виджет, должны демонстрировать заметное улучшение имиджа и конкурентоспособности на рынке.
    - **Увеличение лояльности клиентов**: Рост числа повторных покупок и увеличение числа постоянных клиентов на 10-15% в течение первого года после внедрения виджета.
    
    **1.4. Метрики качества проекта.** 
    
    - **Удовлетворенность пользователей**:
        - **Средний рейтинг**: Средний рейтинг виджета на платформах обратной связи (например, Google Reviews, App Store, Play Store).
        - **Net Promoter Score (NPS)**: Уровень удовлетворенности клиентов и их готовность рекомендовать виджет другим.
    - **Пользовательский опыт**:
        - **Время взаимодействия**: Среднее время, проведенное пользователями на странице с виджетом.
        - **Частота использования**: Процент пользователей интернет-магазина, использующих виджет при посещении сайта.
        - **Коэффициент завершения**: Процент пользователей, успешно завершающих процесс интеграции мебели в фотографию (от загрузки фото до генерации изображения).
    - **Конверсия и продажи**:
        - **Конверсия продаж**: Процент пользователей, использовавших виджет и совершивших покупку мебели.
        - **Средний чек**: Изменение среднего чека покупок пользователей, использовавших виджет, по сравнению с теми, кто его не использовал.
        - **Снижение возвратов**: Процент снижения возвратов товаров, приобретенных с использованием виджета.
    - **Производительность и стабильность**:
        - **Время генерации изображения**: Среднее время, необходимое для генерации изображения с интегрированной мебелью.
        - **Uptime**: Процент времени, в течение которого виджет доступен и работает без сбоев.
        - **Частота ошибок**: Количество ошибок при использовании виджета (например, сбои при загрузке фото, неудачная генерация изображений и т.д.).
    - **Техническая совместимость**:
        - **Кросс-браузерная совместимость**: Количество поддерживаемых браузеров и устройств без значительных проблем.
    - **Аналитика и улучшения**:
        - **Сбор данных о взаимодействии**: Количество собранных данных о поведении пользователей (взаимодействие с виджетом, предпочтения и т.д.).
        - **Частота обновлений**: Количество релизов новых версий виджета с улучшениями и исправлениями на основе пользовательских данных и отзывов.
    - **Имидж и конкурентоспособность**:
        - **Рост клиентской базы**: Увеличение числа новых пользователей и клиентов интернет-магазинов, использующих виджет.
        - **Повторные покупки**: Процент пользователей, вернувшихся для совершения повторной покупки после использования виджета.
        
        **1.5. Use-case использования.** 
        
        - **Покупатель**: Пользователь интернет-магазина мебели.
        - **Виджет**: Система, интегрированная в интернет-магазин, позволяющая визуализировать мебель в интерьере.
        - **Система интернет-магазина**: Платформа, на которой размещен виджет.
        
        ### Основной сценарий:
        
        1. **Посещение интернет-магазина**:
            - **Покупатель** заходит на сайт интернет-магазина мебели.
        2. **Выбор опции визуализации**:
            - **Покупатель** находит интересующий его предмет мебели и видит кнопку или ссылку для визуализации (например, "Посмотреть в моем интерьере").
            - **Покупатель** нажимает на кнопку для запуска виджета.
        3. **Загрузка фотографии интерьера**:
            - **Виджет** предлагает **Покупателю** загрузить фотографию комнаты.
            - **Покупатель** выбирает файл с изображением комнаты и загружает его в виджет.
            - **Виджет** проверяет качество и формат загруженного изображения, уведомляя **Покупателя** о необходимости замены, если изображение не соответствует требованиям.
        4. **Выбор и настройка мебели**:
            - **Виджет** показывает **Покупателю** выбранный предмет мебели в интерактивной области.
            - **Покупатель** может перемещать, изменять размер, цвет и ориентацию мебели для наилучшего соответствия интерьеру.
            - **Покупатель** может добавить несколько предметов мебели и настроить их расположение.
        5. **Генерация визуализации**:
            - **Покупатель** нажимает кнопку "Сгенерировать изображение".
            - **Виджет** обрабатывает изображение и генерирует фото комнаты с выбранной мебелью.
            - **Покупатель** видит результат и может внести дополнительные изменения, если необходимо.
        6. **Сохранение и покупка**:
            - **Покупатель** доволен результатом и сохраняет изображение для дальнейшего использования.
            - **Виджет** предлагает **Покупателю** добавить выбранные предметы мебели в корзину.
            - **Покупатель** переходит к оформлению заказа через систему интернет-магазина.
        
        ### Альтернативные сценарии:
        
        1. **Ошибка при загрузке изображения**:
            - **Покупатель** загружает изображение, которое не соответствует требованиям (например, низкое качество или неподдерживаемый формат).
            - **Виджет** уведомляет **Покупателя** об ошибке и предлагает загрузить другое изображение.
        2. **Изменение выбора мебели**:
            - **Покупатель** решает изменить предмет мебели после генерации изображения.
            - **Покупатель** возвращается к выбору мебели, выбирает другой предмет и повторяет процесс визуализации.
        3. **Сбой в работе виджета**:
            - В случае технического сбоя **Виджет** уведомляет **Покупателя** об ошибке и предлагает повторить попытку позже.
            - **Система интернет-магазина** фиксирует инцидент и передает информацию технической поддержке для устранения проблемы.
        
        ### Постусловие:
        
        - **Покупатель** завершил процесс визуализации, добавил мебель в корзину и перешел к оформлению заказа, либо сохранил изображение для дальнейшего использования и завершил сессию.
        
        ### Основная цель:
        
        - Обеспечить **Покупателю** возможность визуализировать мебель в своем интерьере, что повысит уверенность в выборе и увеличит конверсию продаж в интернет-магазине.


**2.1. Постановка задачи машинного обучения** 
Задачей машинного обучения является визуализация предмета интерьера полученного в формате фотографии на изображении комнаты полученном как совокупность фотографий комнаты либо единичном изображении.
**2.2 Способы решения**
Данная задача может быть решена с помощью нескольких подходов. Мы проверяли два направления: 2D и 3D визуализация.
## 2.1.1 2D Подход
Мы собираем датасет, содержащий изображения комнат с мебелью, для дальнейшей сегментации и детекции элементов мебели. Для этого используем модели Grounded-SAM: сегментацию осуществляем с помощью SAM-ViT-Base, а детекцию — с помощью Grounding-DINO-Tiny, отмечая такие элементы мебели, как стул, стол, диван и тд. 
Подробное описание представлено по ссылке. https://github.com/AnnaLeites/AIInteriorDesign/blob/master/2d%20%D0%BF%D0%BE%D0%B4%D1%85%D0%BE%D0%B4.md
## 2.1.1 3D Подход
Объект мебели строится с помощью InstantMesh (https://github.com/TencentARC/InstantMesh) модели по единственной фотографии из каталога магазина в формате .obj. Модель комнаты пользователя строится с помощью Gaussian Splatting (https://github.com/graphdeco-inria/gaussian-splatting) по множеству фотографий с разных точек комнаты. Для удобства создана возможность записать видео комнаты с различных ракурсов, потом видео разбивается на набор снимков и уже по фотографиям обучается облако точек комнаты в виде файла .ply. Этот формат конвертируется в .splat. Отображение комнаты совместно с объектами мебели происходит с помощью A-Frame веб фреймворка с дополнительным компонентом, который может отображать .splat файлы (https://github.com/quadjr/aframe-gaussian-splatting)
